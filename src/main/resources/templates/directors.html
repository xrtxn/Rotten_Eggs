<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <title>Directors</title>
        <link rel="stylesheet" href="/bootstrap.min.css" />
    </head>
    <body>
        <div class="container mt-4">
            <h1>Directors</h1>

            <div
                th:if="${successMessage}"
                class="alert alert-success alert-dismissible fade show"
                role="alert"
            >
                <span th:text="${successMessage}"></span>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                ></button>
            </div>

            <div
                th:if="${errorMessage}"
                class="alert alert-danger alert-dismissible fade show"
                role="alert"
            >
                <span th:text="${errorMessage}"></span>
                <button
                    type="button"
                    class="btn-close"
                    data-bs-dismiss="alert"
                    aria-label="Close"
                ></button>
            </div>

            <div class="my-3">
                <a th:href="@{/directors/new}" class="btn btn-primary"
                    >Add New Director</a
                >
                <a th:href="@{/movies}" class="btn btn-secondary"
                    >Back to Movies</a
                >
            </div>

            <div th:if="${directors.empty}" class="alert alert-info">
                No directors found.
            </div>

            <div th:if="${!directors.empty}" class="table-responsive">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Birth Year</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="director : ${directors}">
                            <td th:text="${director.id}"></td>
                            <td th:text="${director.firstName}"></td>
                            <td th:text="${director.lastName}"></td>
                            <td th:text="${director.birthYear}"></td>
                            <td>
                                <a
                                    th:href="@{/directors/{id}(id=${director.id})}"
                                    class="btn btn-sm btn-info"
                                    >View</a
                                >
                                <a
                                    th:href="@{/directors/edit/{id}(id=${director.id})}"
                                    class="btn btn-sm btn-warning"
                                    >Edit</a
                                >
                                <a
                                    th:href="@{/directors/delete/{id}(id=${director.id})}"
                                    class="btn btn-sm btn-danger"
                                    onclick="return confirm('Are you sure you want to delete this director?')"
                                    >Delete</a
                                >
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <script src="/bootstrap.bundle.min.js"></script>
    </body>
</html>
